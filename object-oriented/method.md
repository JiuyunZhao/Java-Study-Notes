### 1、概述

方法，也可以称之为函数，在其他语言中可能方法和函数的概念和语法是不同的，比如Python中的函数是可以在文件中独立定义并存在的，而方法则是在类之中定义的函数，但是在Java中，方法和函数都指的是同一个语法，都是一样的，既可以称它为方法，也可以称它为函数。需要注意以下几点：

* 方法是定义在类体之中的。
* 类体之中的多个方法之间是没有顺序关系的。
* 方法体之中不能再定义方法。

### 2、定义方法

**语法如下：**

```
[修饰符列表] 返回值类型 方法名(形式参数列表){
    方法体;
}
```

**修饰符列表：**这是可选项，不是必须的。如果不写，则使用默认选项，对于访问控制符，如public、private等，缺省的访问控制权限为包范围内。

**返回值类型：**使用“return 值”返回一个值，且这个值的类型必须和指定的返回值类型一致，指定的返回值类型可以是Java中的任何数据类型，包括基本数据类型和所有引用类型。如果此方法不返回任何值，就必须将其指定为void，表示此方法不返回任何值，即方法体中不能有“return 值”这样的语句，但是可以写“return;”表示返回void。

**方法名：**遵循标识符的定义规则，但通常应该注意以下几点：

* 最好见名知意，不要为了方便省时，就写func1、func2等这种看不出方法大概功能的方法名。
* 最好是动词。
* 首字母小写，其后的每个单词的首字母大写，即遵循驼峰命名法。

**形式参数列表：**

* 形参是局部变量，即它们的作用范围只在方法体之内。
* 多个形参之间使用逗号隔开。
* 形参中起决定性作用的是其数据类型，形参的名字就是局部变量的名字。
* 在调用方法时给方法传递的真实数据被称为“实际参数”，即实参。
* 对于实参列表和形参列表的使用，需要注意，它们的数量必须相同，而且对应的数据类型也必须一致。

**方法调用：**使用点号“.”进行调用，但是注意，方法体中的程序只有在调用时才会去执行，定义或编译时都不会执行。

### 3、static方法调用

如果修饰符列表中有static的话，则称之为静态方法，调用此方法的语法格式为“类名.方法名\(实际参数列表\)”，但如果是调用本类中的static方法，则可以省略类名，直接使用方法名进行调用。

### 4、参数值的传递

在调用方法时，给方法传递的参数为变量的值（即值传递），而不是变量本身，因为如果传递的是变量本身，那岂不是就可以在调用的方法中使用这个变量了，但实际情况却是，调用的方法只能使用自己这个作用域中的局部变量，而不能使用它的调用者所在的作用域中的变量。所以传递的就是变量的值，从而使得方法的形参有了自己的值。

### 5、方法重载（overload）

**重载原则：**重载的方法功能相似的时候可以考虑使用方法重载，但是功能不同的时候尽量使用方法名称不同的方法来定义。

**重载机制：**

* 重载的方法必须在同一个类中。
* 重载的方法它们的方法名必须相同。
* 参数列表不同：包括参数数量不同，以及数量相同但顺序上类型不同两种情况。
* **注意：**方法重载只和方法名与参数列表有关，与返回值与修饰符列表无关，即只要方法名和参数列表满足重载机制，就算作方法的重载。

### 6、JVM内存分配

如果只是定义方法，不去调用，则不会被执行，在JVM中也不会给该方法分配运行所需的内存，只有在调用这个方法的时候才会动态的分配该方法所需的内存空间。

JVM的内存划分中主要有三大块的内存空间（当然也还有其他的内存空间）：

* **方法区内存：**专门用于代码的存放，当然方法的代码片段也是存放在这里的。方法的代码片段属于“.class”文件的一部分，在JVM加载“.class”字节码文件的时候就会将对应的方法加载到方法区内存中，所以这三块内存中最先有数据的就是方法区内存。并且方法代码片段在内存中只有一份，但是可以重复调用。
* **堆内存（heap）：**主要用于存放创建的实例对象，包括对象自身的数据，如属性值等，因为对象的数据是存放在对象内部的。
* **栈内存：**在方法调用执行的时候，需要给该方法分配独立的内存空间，这个内存空间就是在栈内存空间中进行分配的（方法在调用的瞬间，会在栈中给该方法分配独立的内存空间，此时，会在栈中发生压栈动作，方法执行结束之后，给该方法分配的内存空间就会被全部释放，此时，会在栈中发生弹栈动作）。方法中的局部变量因为是在方法体中声明定义，所以局部变量的内存空间也是在栈中分配的（即栈内存中主要存储的是局部变量）。
* **关于栈（stack）：**栈是一种数据结构（数据结构反应的是数据的存储形态，数据结构这个词和概念是独立的，并不只是在Java中有），栈中包括栈底元素、栈中元素、栈顶元素和栈帧，栈帧永远指向栈顶元素，并且只有栈顶元素处于活跃状态，其他元素则处于静止状态。
  * **压栈/入栈/push：**将一个元素加入栈的栈顶。
  * **弹栈/出栈/pop：**将一个栈顶元素弹出栈。
  * **栈数据结构的特点：**先进后出，后进先出。

* **注意：**堆内存和方法区内存都只是各有一个，但是栈内存是一个线程有一个栈内存。

### 7、方法递归

方法递归是指方法在方法体中调用自身，使用方法递归时应注意以下几点：

* 方法递归非常的耗费栈内存，所以能不用递归就尽量不用递归。
* 如果递归没有设置结束标识或者递归太深就会发生栈内存溢出的错误，导致JVM停止工作。因为每一次调用一个方法，哪怕是调用自身，都会在栈中开辟一块新的内存来创建这个方法的运行环境（压栈），所以递归调用会导致不断的内存开辟，即不断的压栈，最终内存不够用时还在进行内存的开辟和压栈操作，肯定就会出错了。



